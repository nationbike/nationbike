<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nation Bike Spare Part & Workshop</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: linear-gradient(to bottom, #e0f7ff, #ffffff);
    }
    header {
      background-color: #007acc;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 1px;
    }
    nav {
      background-color: #005f99;
      padding: 10px;
      text-align: center;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }
    .hero {
      text-align: center;
      padding: 40px 20px;
      background-color: #cceeff;
    }
    .section {
      padding: 30px 20px;
    }
    h2 {
      color: #007acc;
      border-bottom: 2px solid #007acc;
      padding-bottom: 5px;
      margin-bottom: 20px;
    }
    input, select, textarea, button {
      padding: 10px;
      width: 100%;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .button-primary {
      background-color: #007acc;
      color: white;
      border: none;
      cursor: pointer;
    }
    .button-primary:hover {
      background-color: #005f99;
    }
    .search-container {
      position: relative;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .search-container input {
      flex-grow: 1;
    }
    .search-button {
      background-color: #007acc;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
    }
    .search-button:hover {
      background-color: #005f99;
    }
    #suggestionBox {
      position: absolute;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 8px;
      width: 100%;
      max-height: 150px;
      overflow-y: auto;
      z-index: 1000;
    }
    .suggestion-item {
      padding: 10px;
      cursor: pointer;
    }
    .suggestion-item:hover {
      background: #f0f0f0;
    }
  </style>
</head>
<body>

<header>
  Nation Bike Spare Part & Workshop
</header>
<nav>
  <a href="#search">Search Parts</a>
  <a href="#book">Book Service</a>
  <a href="#testimonials">Testimonials</a>
  <a href="#register">Register</a>
  <a href="#login">Login</a>
  <a href="#dashboard">Dashboard</a>
  <a href="#contact">Contact</a>
</nav>

<div class="hero">
  <h1>Welcome to Nation Bike</h1>
  <p>Your trusted partner for all bike repair & spare parts needs.</p>
</div>

<!-- Search Section -->
<section id="search" class="section">
  <h2>Search Spare Parts</h2>
  <div class="search-container">
    <input type="text" id="partSearch" placeholder="Search parts like Engine Oil, Brake Pads, etc...">
    <button class="search-button"><i class="fas fa-search"></i></button>
    <div id="suggestionBox"></div>
  </div>
</section>
<!-- Booking Section -->
<section id="book" class="section">
  <h2>Book a Service</h2>
  <form action="https://formspree.io/f/xqapgvol" method="POST">
    <input type="text" name="name" placeholder="Full Name" required>
    <input type="email" name="email" placeholder="Email Address" required>
    <input type="tel" name="phone" placeholder="Phone Number" required>
    <input type="date" name="booking-date" required>
    <textarea name="service-details" placeholder="Describe your issue or service request..." rows="4"></textarea>
    <button type="submit" class="button-primary">Book Now</button>
  </form>
</section>

<!-- Testimonials Section -->
<section id="testimonials" class="section">
  <h2>What Our Customers Say</h2>
  <div>
    <p><strong>Ravi Kumar:</strong> Excellent service! They fixed my bike quickly and professionally.</p>
    <p><strong>Neha Sharma:</strong> Found all the spare parts I needed. Highly recommend!</p>
  </div>
</section>

<!-- Registration Section -->
<section id="register" class="section">
  <h2>Customer Registration</h2>
  <form id="registerForm">
    <input type="text" id="regName" placeholder="Full Name" required>
    <input type="email" id="regEmail" placeholder="Email" required>
    <input type="tel" id="regPhone" placeholder="Phone Number" required>
    <input type="password" id="regPassword" placeholder="Password" required>
    <button type="submit" class="button-primary">Register</button>
  </form>
</section>

<!-- Login Section -->
<section id="login" class="section">
  <h2>Customer Login</h2>
  <form id="loginForm">
    <input type="email" id="loginEmail" placeholder="Email" required>
    <input type="password" id="loginPassword" placeholder="Password" required>
    <button type="submit" class="button-primary">Login</button>
  </form>
</section>
<!-- Dashboard Section -->
<section id="dashboard" class="section" style="display: none;">
  <h2>Welcome, <span id="userName"></span></h2>
  <p><strong>Email:</strong> <span id="userEmail"></span></p>
  <p><strong>Phone:</strong> <span id="userPhone"></span></p>
  <h3>Service History</h3>
  <ul id="serviceHistory"></ul>
  <button onclick="logoutUser()" class="button-secondary">Logout</button>
</section>

<!-- Contact Section -->
<section id="contact" class="section">
  <h2>Contact Us</h2>
  <p>Email: <a href="mailto:Mumtaz007alam@gmail.com">Mumtaz007alam@gmail.com</a></p>
  <p>Phone: <a href="tel:+917762934833">7762934833</a></p>
  <p>Location: Bettiah, Bihar</p>
  <iframe
    src="https://www.google.com/maps?q=26.8069560,84.5092640&z=15&output=embed"
    width="100%" height="300" style="border:0;" allowfullscreen loading="lazy">
  </iframe>
</section>

<!-- WhatsApp Chat -->
<a href="https://wa.me/917762934833" target="_blank" class="whatsapp-float">
  <img src="https://img.icons8.com/color/48/000000/whatsapp--v1.png" alt="WhatsApp Chat">
</a>

<!-- Chatbot (Floating Icon) -->
<div id="chatbot" class="chatbot-float">
  <button onclick="toggleChatbot()">Chat</button>
  <div id="chatbox" class="chatbox" style="display: none;">
    <p>Hello! How can I help you?</p>
    <!-- Add simple interaction here -->
  </div>
</div>

<!-- Firebase & Script -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDGGuoM1RCdV-n9pkmw_c6wvGoejnu6rOE",
    authDomain: "nation-bike.firebaseapp.com",
    projectId: "nation-bike",
    storageBucket: "nation-bike.firebasestorage.app",
    messagingSenderId: "25249080743",
    appId: "1:25249080743:web:238adc1be73839fa740282"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // Your scripts for login, registration, dashboard updates, chatbot toggle, etc.
</script>
<!-- Styles -->
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to top, #87ceeb, #ffffff);
    margin: 0;
    padding: 0;
    scroll-behavior: smooth;
  }

  header {
    background: #00aaff;
    color: white;
    padding: 1rem;
    text-align: center;
  }

  nav a {
    margin: 0 1rem;
    color: white;
    text-decoration: none;
  }

  section {
    padding: 2rem;
    border-bottom: 1px solid #ccc;
  }

  .form-group {
    margin-bottom: 1rem;
  }

  input, select, textarea {
    width: 100%;
    padding: 0.5rem;
    border-radius: 5px;
    border: 1px solid #aaa;
  }

  .button, .button-secondary {
    padding: 0.5rem 1rem;
    background: #00aaff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  .button-secondary {
    background: #555;
  }

  .whatsapp-float {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 10;
  }

  .chatbot-float {
    position: fixed;
    bottom: 80px;
    right: 20px;
    z-index: 11;
  }

  .chatbox {
    background: white;
    border: 1px solid #00aaff;
    border-radius: 10px;
    padding: 1rem;
    width: 250px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }
</style>

<!-- Full JS Logic -->
<script>
  // Toggle Chatbot
  function toggleChatbot() {
    const box = document.getElementById("chatbox");
    box.style.display = box.style.display === "none" ? "block" : "none";
  }

  // User Registration
  document.getElementById("registerForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const name = document.getElementById("regName").value;
    const email = document.getElementById("regEmail").value;
    const phone = document.getElementById("regPhone").value;
    const password = document.getElementById("regPassword").value;
    try {
      const userCred = await auth.createUserWithEmailAndPassword(email, password);
      await db.collection("users").doc(userCred.user.uid).set({ name, email, phone });
      alert("Registered successfully!");
      document.getElementById("registerForm").reset();
    } catch (err) {
      alert("Error: " + err.message);
    }
  });

  // User Login
  document.getElementById("loginForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;
    try {
      const userCred = await auth.signInWithEmailAndPassword(email, password);
      loadDashboard(userCred.user.uid);
    } catch (err) {
      alert("Login failed: " + err.message);
    }
  });

  // Load Dashboard
  async function loadDashboard(uid) {
    const userDoc = await db.collection("users").doc(uid).get();
    const data = userDoc.data();
    document.getElementById("userName").textContent = data.name;
    document.getElementById("userEmail").textContent = data.email;
    document.getElementById("userPhone").textContent = data.phone;

    document.getElementById("dashboard").style.display = "block";
    document.getElementById("login").style.display = "none";
    document.getElementById("register").style.display = "none";
  }

  // Logout
  function logoutUser() {
    auth.signOut();
    document.getElementById("dashboard").style.display = "none";
    alert("Logged out.");
  }

  // Stay logged in
  auth.onAuthStateChanged((user) => {
    if (user) loadDashboard(user.uid);
  });
</script>
